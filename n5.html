<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>日文動詞測驗</title>
<style>
    body {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
        font-family: Arial, sans-serif;
        background-color: #f0f8ff;
    }
    .container {
        max-width: 500px;
        padding: 20px;
        background-color: #ffffff;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        border-radius: 10px;
        text-align: center;
    }
    .question-area, .result-area {
        margin: 20px 0;
    }
    .correct { color: green; }
    .incorrect { color: red; }
    input[type="text"] {
        width: 80%;
        padding: 8px;
        margin-top: 10px;
        border: 1px solid #ccc;
        border-radius: 5px;
    }
    button {
        margin-top: 10px;
        padding: 10px 20px;
        font-size: 16px;
        color: #fff;
        background-color: #4CAF50;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }
</style>
</head>
<body>

<div class="container">
    <h1>日文動詞測驗</h1>
    <!-- 題目類型選擇 -->
    <div>
        <label><input type="radio" name="questionType" value="1" checked onchange="loadQuestion()"> 中文 -> 原型</label><br/>
        <label><input type="radio" name="questionType" value="2" onchange="loadQuestion()"> 原型 -> ます型</label><br/>
        <label><input type="radio" name="questionType" value="3" onchange="loadQuestion()"> 原型 -> て型</label><br/>
        <label><input type="radio" name="questionType" value="4" onchange="loadQuestion()"> 原型 -> ない型</label><br/>
    </div>
    <div class="question-area">
        <h3 id="question">題目載入中...</h3>
        <input type="text" id="answer" placeholder="請輸入答案" onkeypress="handleKeyPress(event)" >
        <button onclick="checkAnswer()">提交</button>
    </div>
    <div class="result-area">
        <p id="feedback"></p>
        <p><strong>上一次正確的題目和答案:</strong> </p>
        <p><span id="last-correct"></span></p>
    </div>
</div>

<script>
// 動詞原形,ます形,て形,ない型,た形,命令形,せる形 / れる形,原形發音,ます形發音,中文,意向形,
let file = `言う,言います,言って,言わない,言った,言いなさい,言わせる,いう,いいます,說（曰）,,
売る,売ります,売って,売らない,売った,売りなさい,売らせる,うる,うります,賣,,
置く,置きます,置いて,置かない,置いた,置きなさい,置かせる,おく,おきます,放置,,
押す,押します,押して,押さない,押した,押しなさい,押させる,おす,おします,推/按/壓,,
買う,買います,買って,買わない,買った,買いなさい,買わせる,かう,かいます,買,,
書く,書きます,書いて,書かない,書いた,書きなさい,書かせる,かく,かきます,寫,,
貸す,貸します,貸して,貸さない,貸した,貸しなさい,貸させる,かす,かします,借(出),,
聞く,聞きます,聞いて,聞かない,聞いた,聞きなさい,聞かせる,きく,ききます,聽/問,,
切る,切ります,切って,切らない,切った,切りなさい,切らせる,きる,きります,切割/中斷,,
消す,消します,消して,消さない,消した,消しなさい,消させる,けす,けします,消除/擦掉,,
知る,知ります,知って,知らない,知った,知りなさい,知らせる,しる,しります,知道,,
吸う,吸います,吸って,吸わない,吸った,吸え,吸わせる,すう,すいます,吸,,
出す,出します,出して,出さない,出した,出せ,出させる,だす,だします,拿出/提出,,-
撮る,撮ります,撮って,撮らない,撮った,撮れ,撮らせる,とる,とります,拍照/攝影,,
取る,取ります,取って,取らない,取った,取れ,取らせる,とる,とります,拿取,,
脱ぐ,脱ぎます,脱いで,脱がない,脱いた,脱げ,脱がせる,ぬぐ,ぬぎます,脫(衣物等),,
飲む,飲みます,飲んで,飲まない,飲んだ,飲め,飲ませる,のむ,のみます,喝,,
穿く,穿きます,穿いで,穿かない,穿った,穿け,穿かせる,はく,はきます,穿(褲子等),,
履く,履きます,履いて,履かない,履いた,履け,履かせる,はく,はきます,穿(鞋子等),,
貼る,貼ります,貼って,貼らない,貼った,貼れ,貼らせる,はる,はります,張貼,,
引く,引きます,引いて,引かない,引いた,引け,引かせる,ひく,ひきます,拉/引誘/抽,,
弾く,弾きます,弾いて,弾かない,弾いた,弾け,弾かせる,ひく,ひきます,彈奏,,
吹く,吹きます,吹いて,吹かない,吹いた,吹け,吹かせる,ふく,ふきます,吹,,
待つ,待ちます,待って,待たない,待った,待て,待たせる,まつ,まちます,等待,,
持つ,持ちます,持って,持たない,持った,持て,持たせる,もつ,もちます,拿/持有,,
呼ぶ,呼びます,呼んで,呼ばない,呼んだ,呼べ,呼ばせる,よぶ,よびます,呼叫/稱呼,,
読む,読みます,読んで,読まない,読んだ,読め,読ませる,よむ,よみます,讀/唸,,
洗う,洗います,洗って,洗わない,洗った,洗え,洗わせる（あらわせる）,あらう,あらいます,洗(手.物品),,
歌う,歌います,歌って,歌わない,歌った,歌え,歌わせる（うたわせる）,うたう,うたいます,唱,,
頼む,頼みます,頼んで,頼まない,頼んだ,頼め,頼ませる（たのませる）,たのむ,たのみます,拜託/請求,,
使う,使います,使って,使わない,使った,使え,使わせる（つかわせる）,つかう,つかいます,使用,,
作る,作ります,作って,作らない,作った,作れ,作らせる（つくらせる）,つくる,つくります,製作/做,,
習う,習います,習って,習わない,習った,習え,習わせる（ならわせる）,ならう,ならいます,學習/用功,,重複練習學習的(比如腳踏車)
話す,話します,話して,話さない,話した,話せ,話させる（はなさせる）,はなす,はなします,說/談/討論,,
磨く,磨きます,磨いて,磨かない,磨いた,磨け,磨かせる（みがかせる）,みがく,みがきます,磨/刷(牙),,
渡す,渡します,渡して,渡さない,渡した,渡せ,渡させる（わたさせる）,わたす,わたします,交給/渡過,,-
返す,返します,返して,返さない,返した,返せ,返させる（かえさせる）,かえす,かえします,退回、歸還,,
やる,やります,やって,やらない,やった,やれ,やらせる,やる,やります,做(某事),,-
さす,さします,さして,ささない,さした,させ,させる,さす,さします,撐(傘),,-
なくす,なくします,なくして,なくさない,なくした,なくせ,なくさせる,なくす,なくします,弄丟/丟失,,
かぶる,かぶります,かぶって,かぶらない,かぶった,かぶれ,かぶらせる,かぶる,かぶります,戴(帽子等),,-
くださる,くださいます,くださって,くださいません,くださった,くださってください,くださらせる,くださる,くださいます,給,,-
着る,着ます,着て,着ない,着た,着ろ,着せる（きせる）,きる,きます,穿(上衣等),,
見る,見ます,見て,見ない,見た,見ろ,見せる（みせる）,みる,みます,看,,
浴びる,浴びます,浴びて,浴びない,浴びた,浴びろ,浴びせる（あびせる）,あびる,あびます,淋浴/蒙受,,
借りる,借ります,借りて,借りない,借りた,借りろ,借りせる（かりせる）,かりる,かります,借(入),,
開ける,開けます,開けて,開けない,開けた,開けろ,開けせる（あけせる）,あける,あけます,打開(他動詞),,
入れる,入れます,入れて,入れない,入れた,入れろ,入れせる（いれせる）,いれる,いれます,放入,,
締める,締めます,締めて,締めない,締めた,締めろ,締めせる（しめせる）,しめる,しめます,繫上/減縮,,
閉める,閉めます,閉めて,閉めない,閉めた,閉めろ,閉めせる（しめせる）,しめる,しめます,關閉,,
食べる,食べます,食べて,食べない,食べた,食べろ,食べさせる（たべさせる）,たべる,たべます,吃,,
見せる,見せます,見せて,見せない,見せた,見せろ,見せる（みせる）,みせる,みせます,讓看/展現,,
教える,教えます,教えて,教えない,教えた,教えろ,教えさせる（おしえさせる）,おしえる,おしえます,教導/告訴,,
勤める,勤めます,勤めて,勤めない,勤めた,勤めろ,勤めさせる（つとめさせる）,つとめる,つとめます,任職/工作,,
並べる,並べます,並べて,並べない,並べた,並べろ,並べさせる（ならべさせる）,ならべる,ならべます,並列/排列,,
かける,かけます,かけて,かけない,かけた,かけろ,かけさせる,-,かけます,戴上/花費/撥打(電話),,
あげる,あげます,あげて,あげない,あげた,あげろ,あげさせる,-,あげます,抬/舉/舉行,,
つける,つけます,つけて,つけない,つけた,つけろ,つけさせる,-,つけます,安裝/佩帶/附加/開(燈),,
なる,なります,なって,ならない,なった,なれ,ならせる,-,なります,成為/組成,,
会う,会います,会って,会わない,会った,会え,会わせる（あわせる）,あう,あいます,遇見/見面,,
開く,開きます,開いて,開かない,開けた,開け,開かせる（あかせる）,ひらく,ひらきます,開(自動詞),,
ある,あります,あって,ない,あった,あれ,させる,ある,あります,有,,
行く,行きます,行って,行かない,行った,行け,行かせる（いかせる）,いく,いきます,去/往,,
要る,要ります,要って,要らない,要った,要れ,要らせる,いる,いります,要/需要,,
咲く,咲きます,咲いて,咲かない,咲いた,咲け,咲かせる（さかせる）,さく,さきます,開(花),,
死ぬ,死にます,死んで,死なない,死んだ,死ね,死なせる（しなせる）,しぬ,しにます,死,,
住む,住みます,住んで,住まない,住んだ,住め,住ませる（すませる）,すむ,すみます,居住,,
立つ,立ちます,立って,立たない,立った,立て,立たせる（たたせる）,たつ,たちます,站/立,,
着く,着きます,着いて,着かない,着いた,着け,着かせる（きかせる）,つく,つきます,到達/碰觸/就坐,,
飛ぶ,飛びます,飛んで,飛ばない,飛んだ,飛べ,飛ばせる（とばせる）,とぶ,とびます,飛/跳,,
泣く,泣きます,泣いて,泣かない,泣いた,泣け,泣かせる（なかせる）,なく,なきます,哭泣,,
鳴く,鳴きます,鳴いて,鳴かない,鳴いた,鳴け,鳴かせる（なかせる）,なく,なきます,動物鳴叫,,
乗る,乗ります,乗って,乗らない,乗った,乗れ,乗らせる（のらせる）,のる,のります,乘坐/搭乘,,
吹く,吹きます,吹いて,吹かない,吹いた,吹け,吹かせる（ふかせる）,ふく,ふきます,吹,,
降る,降ります,降って,降りない,降りた,降れ,降らせる（ふらせる）,ふる,ふります,下(雨)/降下,,
泳ぐ,泳ぎます,泳いで,泳がない,泳いだ,泳げ,泳がせる（およがせる）,およぐ,およぎます,游泳,,
帰る,帰ります,帰って,帰らない,帰った,帰れ,帰らせる（かえらせる）,かえる,かえります,回去/回家,,
曇る,曇ります,曇って,曇らない,曇った,曇れ,曇らせる（くもらせる）,くもる,くもります,陰天,,
困る,困ります,困って,困らない,困った,困れ,困らせる（こまらせる）,こまる,こまります,困擾/為難,,
座る,座ります,座って,座らない,座った,座れ,座らせる（すわらせる）,すわる,すわります,坐下,,
違う,違います,違って,違わない,違った,違え,違わせる（ちがわせる）,ちがう,ちがいます,不同/錯誤,,
並ぶ,並びます,並んで,並ばない,並んだ,並べ,並べさせる（ならべさせる）,ならぶ,ならびます,排列,,
登る,登ります,登って,登らない,登った,登れ,登らせる（のぼらせる）,のぼる,のぼります,登(山)/上升,,
入る,入ります,入って,入らない,入った,入れ,入らせる（いれらせる）,はいる,はいります,進入/裝有,,
走る,走ります,走って,走らない,走った,走れ,走らせる（はしらせる）,はしる,はしります,跑/行駛(車),,
渡る,渡ります,渡って,渡らない,渡った,渡れ,渡らせる（わたらせる）,わたる,わたります,渡過/經過,,
遊ぶ,遊びます,遊んで,遊ばない,遊んだ,遊べ,遊ばせる（あそばせる）,あそぶ,あそびます,玩耍,,
歩く,歩きます,歩いて,歩かない,歩いた,歩け,歩かせる（あるかせる）,あるく,あるきます,走/步行,,
終わる,終わります,終わって,終わらない,終わった,終われ,終わらせる（おわらせる）,おわる,おわります,結束,,
掛かる,掛かります,掛かって,掛からない,掛かった,掛かれ,掛からせる（かからせる）,かかる,かかります,掛著/花費,,
閉まる,閉まります,閉まって,閉まらない,閉まった,閉まれ,閉まらせる（しまらせる）,しまる,しまります,關閉,,
止まる,止まります,止まって,止まらない,止まった,止まれ,止まらせる（とまらせる）,とまる,とまります,停住/停止,,
始まる,始まります,始まって,始まらない,始まった,始まれ,始まらせる（はじまらせる）,はじまる,はじまります,開始(自動詞),,
曲がる,曲がります,曲がって,曲がらない,曲がった,曲がれ,曲がらせる（まがらせる）,まがる,まがります,轉彎/傾斜,,
分かる,分かります,分かって,分からない,分かった,分かれ,分からせる（わからせる）,わかる,わかります,理解/明白,,
居る,居ります,居って,居ない,居た,居れ,居らせる（いらせる）,いる,おります,(居)在,,
起きる,起きます,起きて,起きない,起きた,起きろ,起きさせる（おきさせる）,おきる,おきます,起來/發生,,
降りる,降ります,降りて,降らない,降りた,降りろ,降らせる（ふらせる）,おりる,おります,下(車.樓梯),,
出来る,出来ます,出来て,出来ない,出来た,出来ろ,出来させる（できさせる）,できる,できます,能/可以,,
出る,出ます,出て,出ない,出た,出ろ,出させる（ださせる）,でる,でます,出來/離開,,
寝る,寝ます,寝て,寝ない,寝た,寝ろ,寝させる（ねさせる）,ねる,ねます,睡覺(自動詞),,
覚える,覚えます,覚えて,覚えない,覚えた,覚えろ,覚えさせる（おぼえさせる）,おぼえる,おぼえます,記住/學會,,
消える,消えます,消えて,消えない,消えた,消えろ,消えさせる（きえさせる）,きえる,きえます,消失,,
答える,答えます,答えて,答えない,答えた,答えろ,答えさせる（こたえさせる）,こたえる,こたえます,回答,,
疲れる,疲れます,疲れて,疲れない,疲れた,疲れろ,疲れさせる（つかれさせる）,つかれる,つかれます,疲累,,
晴れる,晴れます,晴れて,晴れない,晴れた,晴れろ,晴れさせる（はれさせる）,はれる,はれます,放晴,,
生まれる,生まれます,生まれて,生まれない,生まれた,生まれろ,生まれさせる（うまれさせる）,うまれる,うまれます,出生/產生,,
出掛ける,出掛けます,出掛けて,出掛けない,出掛けた,出掛けろ,出掛けさせる（でかけさせる）,でかける,でかけます,出門、外出,,
コピーする,コピーします,コピーして,コピーしない,コピーした,コピーしてください,コピーさせる,-,こぴーします,拷貝/影印,,
質問する,質問します,質問して,質問しない,質問した,質問してください,質問させる（しつもんさせる）,しつもんする,しつもんします,提問,,
洗濯する,洗濯します,洗濯して,洗濯しない,洗濯した,洗濯してください,洗濯させる（せんたくさせる）,せんたくする,せんたくします,洗(衣物),,
掃除する,掃除します,掃除して,掃除しない,掃除した,掃除してください,掃除させる（そうじさせる）,そうじする,そうじします,打掃,,
勉強する,勉強します,勉強して,勉強しない,勉強した,勉強してください,勉強させる（べんきょうさせる）,べんきょうする,べんきょうします,學習/用功,,
練習する,練習します,練習して,練習しない,練習した,練習してください,練習させる（れんしゅうさせる）,れんしゅうする,れんしゅうします,練習,,
結婚する,結婚します,結婚して,結婚しない,結婚した,結婚してください,結婚させる（けっこんさせる）,けっこんする,けっこんします,結婚,,
散歩する,散歩します,散歩して,散歩しない,散歩した,散歩してください,散歩させる（さんぽさせる）,さんぽする,さんぽします,散步,,
旅行する,旅行します,旅行して,旅行しない,旅行した,旅行してください,旅行させる（りょこうさせる）,りょこうする,りょこうします,旅行,,
来る,来ます,来て,来ない（こない）,来た,来い（こい）,来れる（これる）,くる,きます,來,,
する,します,して,しない,した,しろ,される,する,します,做(泛用動詞),,`

let words = [];  // 存儲從CSV載入的單字資料
let currentQuestion = {};
let lastCorrect = '';

window.onload = function() { 
    // 在這裡寫你的初始化代碼 console.log('頁面已加載');
    parseCSV();
    loadQuestion();
};

// 解析CSV檔案內容
function parseCSV() {
    console.log('parse csv start');
    const lines = file.split('\n');
    lines.forEach(line => {
        const [verb, masuForm, teForm, naiForm, a, b, c, verbHrakana, e, chinese] = line.split(',');  // 假設 CSV 具有五列
        if (chinese && verb && masuForm && teForm && naiForm && verbHrakana) {
            words.push({ chinese, verb, masuForm, teForm, naiForm, verbHrakana});
        }
    });
}

// 處理Enter鍵按下事件，模擬提交按鈕點擊
function handleKeyPress(event) {
    if (event.key === "Enter") {
        checkAnswer();
    }
}

// 隨機載入測驗題目
function loadQuestion() {
    const questionType = parseInt(document.querySelector('input[name="questionType"]:checked').value, 10);
    const randomWord = words[Math.floor(Math.random() * words.length)];

    switch(questionType) {
        case 1:
            currentQuestion = { type: 'chinese', question: `中文: ${randomWord.chinese}`, answer: randomWord.verb, show: randomWord.verbHrakana};
            break;
        case 2:
            currentQuestion = { type: 'masu', question: `原型: ${randomWord.verb} (請回答ます型)`, answer: randomWord.masuForm };
            break;
        case 3:
            currentQuestion = { type: 'te', question: `原型: ${randomWord.verb} (請回答て型)`, answer: randomWord.teForm };
            break;
        case 4:
            currentQuestion = { type: 'nai', question: `原型: ${randomWord.verb} (請回答ない型)`, answer: randomWord.naiForm };
            break;
    }
    document.getElementById('question').textContent = currentQuestion.question;
    document.getElementById('answer').value = '';
    document.getElementById('answer').focus();
}

// 檢查使用者的答案
function checkAnswer() {
    const userAnswer = document.getElementById('answer').value.trim();
    if (userAnswer === currentQuestion.answer) {
        document.getElementById('feedback').textContent = '正確！';
        document.getElementById('feedback').className = 'correct';
        lastCorrect = `${currentQuestion.question} 答案: ${currentQuestion.answer}`;
        document.getElementById('last-correct').textContent = lastCorrect;
        loadQuestion(); 
    } else {
        document.getElementById('feedback').textContent = `錯誤！正確答案是：${currentQuestion.answer} ${currentQuestion.show}`;
        document.getElementById('feedback').className = 'incorrect';
        document.getElementById('answer').value = '';
        document.getElementById('answer').focus();
    }

}
</script>

</body>
</html>
